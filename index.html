<html>
<head>
	<title>Random Word List</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/png" href="favicon.png" />
	<link rel="stylesheet" href="jquery/jquery.mobile-1.3.0.min.css" />
	<script src="jquery/jquery-1.9.1.min.js"></script>
	<script src="jquery/jquery.mobile-1.3.0.min.js"></script>
	<script type="text/javascript" charset="utf-8">
		function initVars(){
			$.getJSON('words.json', function(data) {
				window.wordlist = data
			});
			window.wordlist = []
			window.numberOfWords = 99
		}

		function onloadList(){
			words = [];
			numberOfWords = $("#numberOfWords").val();
			for (var i = 0; i < numberOfWords; i++) {
				var randomnumber=Math.floor(Math.random()*wordlist.length)
				var word = wordlist[randomnumber-1];
				if ( words.indexOf(word) == -1 ) {words.push(word);}
				else {i--;}
			};
			$("#wordList").html("");
			for (var i = 0; i < words.length; i+=2) {
				if ( !words[i+1] ){
					item = '<li><div class="ui-grid-a"><div class="ui-block-a" style="margin: 0px auto;text-align: center;"><span id="word' + (i+1) + '">' + words[i] + '</span></div><div class="ui-block-b" style="margin: 0px auto;text-align: center;"></div></div></li>'
				}
				else {
					item = '<li><div class="ui-grid-a"><div class="ui-block-a" style="margin: 0px auto;text-align: center;"><span id="word' + (i+1) + '">' + words[i] + '</span></div><div class="ui-block-b" style="margin: 0px auto;text-align: center;"><span id="word' + (i+2) + '">' + words[i+1] + '</span></div></div></li>'
				}
				$("#wordList").append(item)
				$("#wordList").listview("refresh")
			};
		}
		function refreshList(){
			onloadList();
			showList();
		}
		function hideList(){
			for (var i = words.length - 1; i >= 0; i--) {
				document.getElementById("word"+(i+1)).style.visibility = "hidden";
			};
		}
		function showList(){
			for (var i = words.length - 1; i >= 0; i--) {
				document.getElementById("word"+(i+1)).style.visibility = "";
			};
		}
		function resetButtons(){
			$("#newListBtn").removeClass("ui-btn-active")
			$("#hideListBtn").removeClass("ui-btn-active")
			$("#showListBtn").removeClass("ui-btn-active")
		}
		window.onload = function (){
			if (window.location.hash != ""){
				window.location.hash = "";
				window.location.reload();
			}
			$(document).delegate('#listPage', 'pageshow',function(event){setTimeout(onloadList,1);});
			window.onmouseup = function (){resetButtons();};
			window.onmouseup = function (){resetButtons();};
			$(window).touchend(function(){resetButtons();});

			initVars();
		}
		$( document ).on( "mobileinit", function() {
			// Make your jQuery Mobile framework configuration changes here!
			$.support.cors = true;
			$.mobile.allowCrossDomainPages = true;
		});
	</script>
</head>
<body>
<div data-role="page" id="startPage">
	<div data-role="header" data-position="fixed">
		<h1>Random Word List</h1>
	</div>

	<div data-role="content">
		<ul data-role="listview" data-inset="true">
			<li data-role="fieldcontain">
				<label for="numberOfWords">Number Of Words in the List:</label>
				<input type="range" name="numberOfWords" id="numberOfWords" value="10" min="2" max="100" data-highlight="true">
			</li>
			<li class="ui-body ui-body-b">
				<fieldset class="ui-grid-solo">
					<a href="#listPage" data-role="button" data-transition="slide">Generate Word List</a>
				</fieldset>
			</li>
		</ul>
	</div>

	<div data-role="footer" data-position="fixed">
	</div>
</div>
<div data-role="page" id="listPage">
	<div data-role="header" data-position="fixed">
		<a data-rel="back" data-icon="back">Back</a>
		<h1>Random Word List</h1>
	</div>

	<div data-role="content">
		<ul id="wordList" data-role="listview">
		</ul>
	</div>

	<div data-role="footer" data-position="fixed">
		<div data-role="navbar">
			<ul>
				<li><a id="newListBtn" onclick="refreshList();">New List</a></li>
				<li><a id="hideListBtn" onclick="hideList();">Hide List</a></li>
				<li><a id="showListBtn" onclick="showList();">Show List</a></li>
			</ul>
		</div>
	</div>
</div>
</body>
</html>
